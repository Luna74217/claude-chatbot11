==========================================
CLAUDE CHATBOT - COMPLETE REPLIT CODE
==========================================

ì´ íŒŒì¼ì€ Claude Opus 4 ëª¨ë¸ì´ ê²€ìˆ˜í•  ìˆ˜ ìˆë„ë¡ ëª¨ë“  ì½”ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.

==========================================
ğŸ“ BACKEND CODE
==========================================

1. main_replit.py
==========================================

from fastapi import FastAPI, WebSocket, WebSocketDisconnect
from fastapi.middleware.cors import CORSMiddleware
import json
from datetime import datetime
import os
from dotenv import load_dotenv

# í™˜ê²½ë³€ìˆ˜ ë¡œë“œ
load_dotenv()

app = FastAPI(title="Claude Chatbot API", version="1.0.0")

# CORS ì„¤ì • - Replit í™˜ê²½ì— ë§ê²Œ
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # Replitì—ì„œëŠ” ëª¨ë“  origin í—ˆìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì„ ê´€ë¦¬
class ConnectionManager:
    def __init__(self):
        self.active_connections: list[WebSocket] = []

    async def connect(self, websocket: WebSocket):
        await websocket.accept()
        self.active_connections.append(websocket)
        print(f"í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ë¨. ì´ ì—°ê²° ìˆ˜: {len(self.active_connections)}")

    def disconnect(self, websocket: WebSocket):
        self.active_connections.remove(websocket)
        print(f"í´ë¼ì´ì–¸íŠ¸ ì—°ê²° í•´ì œë¨. ì´ ì—°ê²° ìˆ˜: {len(self.active_connections)}")

    async def send_personal_message(self, message: str, websocket: WebSocket):
        await websocket.send_text(message)

    async def broadcast(self, message: str):
        for connection in self.active_connections:
            await connection.send_text(message)

manager = ConnectionManager()

@app.get("/")
async def root():
    return {
        "message": "Claude Chatbot API Server",
        "status": "running",
        "websocket_endpoint": "/ws",
        "timestamp": datetime.now().isoformat()
    }

@app.get("/health")
async def health_check():
    return {"status": "healthy", "connections": len(manager.active_connections)}

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await manager.connect(websocket)
    try:
        while True:
            data = await websocket.receive_text()
            message_data = json.loads(data)

            # ì±„íŒ… ë©”ì‹œì§€ ì²˜ë¦¬
            if message_data.get("type") == "chat":
                user_message = message_data.get("message", "")
                
                # Claude API í‚¤ í™•ì¸
                api_key = os.getenv("ANTHROPIC_API_KEY")
                
                if api_key:
                    # ì‹¤ì œ Claude API í˜¸ì¶œ (ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜)
                    ai_response = f"Claude ì‘ë‹µ: {user_message[::-1]} (ì‹¤ì œë¡œëŠ” Claude API í˜¸ì¶œ)"
                else:
                    ai_response = "Claude API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. .env íŒŒì¼ì— ANTHROPIC_API_KEYë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”."

                # AI ì‘ë‹µ ì „ì†¡
                await manager.send_personal_message(json.dumps({
                    "type": "assistant",
                    "content": ai_response,
                    "timestamp": datetime.now().isoformat()
                }), websocket)
                
            # íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
            elif message_data.get("type") == "file":
                file_info = message_data.get("file", {})
                await manager.send_personal_message(json.dumps({
                    "type": "file_response",
                    "content": f"íŒŒì¼ '{file_info.get('name', 'unknown')}'ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.",
                    "timestamp": datetime.now().isoformat()
                }), websocket)
                
    except WebSocketDisconnect:
        manager.disconnect(websocket)
        print("í´ë¼ì´ì–¸íŠ¸ ì—°ê²° í•´ì œë¨")

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)

==========================================

2. requirements_replit.txt
==========================================

fastapi==0.112.0
uvicorn[standard]==0.35.0
python-dotenv==1.1.1
python-multipart==0.0.9
pydantic==2.7.1
websockets==12.0

==========================================

3. .replit (Backend)
==========================================

run = "uvicorn main_replit:app --host 0.0.0.0 --port 8000 --reload"

==========================================

4. env_example.txt (Backend)
==========================================

# Claude API ì„¤ì •
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ì„œë²„ ì„¤ì •
HOST=0.0.0.0
PORT=8000

# CORS ì„¤ì •
ALLOWED_ORIGINS=*

==========================================
ğŸ“ FRONTEND CODE
==========================================

5. useWebSocket.js
==========================================

import { useEffect, useRef, useState, useCallback } from 'react';

export const useWebSocket = (apiUrl) => {
  const ws = useRef(null);
  const [isConnected, setIsConnected] = useState(false);
  const [lastMessage, setLastMessage] = useState(null);
  const [error, setError] = useState(null);

  // WebSocket ì—°ê²°
  const connect = useCallback(() => {
    try {
      // HTTPë¥¼ WebSocketìœ¼ë¡œ ë³€í™˜
      const wsUrl = apiUrl.replace(/^http/, 'ws');
      ws.current = new WebSocket(`${wsUrl}/ws`);

      ws.current.onopen = () => {
        console.log('WebSocket ì—°ê²°ë¨');
        setIsConnected(true);
        setError(null);
      };

      ws.current.onmessage = (event) => {
        try {
          const data = JSON.parse(event.data);
          setLastMessage(data);
        } catch (err) {
          console.error('ë©”ì‹œì§€ íŒŒì‹± ì˜¤ë¥˜:', err);
        }
      };

      ws.current.onclose = () => {
        console.log('WebSocket ì—°ê²° í•´ì œë¨');
        setIsConnected(false);
      };

      ws.current.onerror = (error) => {
        console.error('WebSocket ì˜¤ë¥˜:', error);
        setError('WebSocket ì—°ê²° ì˜¤ë¥˜');
        setIsConnected(false);
      };

    } catch (err) {
      console.error('WebSocket ì—°ê²° ì‹¤íŒ¨:', err);
      setError('WebSocket ì—°ê²° ì‹¤íŒ¨');
    }
  }, [apiUrl]);

  // ë©”ì‹œì§€ ì „ì†¡
  const sendMessage = useCallback((message) => {
    if (ws.current && ws.current.readyState === WebSocket.OPEN) {
      ws.current.send(JSON.stringify({
        type: 'chat',
        message: message,
        timestamp: new Date().toISOString()
      }));
      return true;
    } else {
      console.error('WebSocketì´ ì—°ê²°ë˜ì§€ ì•ŠìŒ');
      return false;
    }
  }, []);

  // íŒŒì¼ ì „ì†¡
  const sendFile = useCallback((fileInfo) => {
    if (ws.current && ws.current.readyState === WebSocket.OPEN) {
      ws.current.send(JSON.stringify({
        type: 'file',
        file: fileInfo,
        timestamp: new Date().toISOString()
      }));
      return true;
    } else {
      console.error('WebSocketì´ ì—°ê²°ë˜ì§€ ì•ŠìŒ');
      return false;
    }
  }, []);

  // ì—°ê²° í•´ì œ
  const disconnect = useCallback(() => {
    if (ws.current) {
      ws.current.close();
    }
  }, []);

  // ìë™ ì¬ì—°ê²°
  useEffect(() => {
    connect();

    return () => {
      disconnect();
    };
  }, [connect, disconnect]);

  // ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì¬ì—°ê²°
  useEffect(() => {
    if (!isConnected && !error) {
      const timer = setTimeout(() => {
        console.log('WebSocket ì¬ì—°ê²° ì‹œë„...');
        connect();
      }, 3000);

      return () => clearTimeout(timer);
    }
  }, [isConnected, error, connect]);

  return {
    isConnected,
    lastMessage,
    error,
    sendMessage,
    sendFile,
    connect,
    disconnect
  };
};

==========================================

6. ChatInterface_replit.jsx
==========================================

import React, { useState, useRef, useEffect } from 'react';
import { useSettings } from '../../hooks/useSettings';
import { useConversations } from '../../hooks/useConversations';
import { useWebSocket } from '../../hooks/useWebSocket';
import { getFileIcon, validateFile } from '../../utils/fileUtils';
import { isSearchActive } from '../../utils/searchUtils';
import { MessageRole } from '../../constants/messageTypes';
import Sidebar from '../Sidebar/Sidebar';
import ChatArea from '../ChatArea/ChatArea';
import ArtifactPanel from '../ArtifactPanel/ArtifactPanel';
import SettingsModal from '../Settings/SettingsModal';

// Replit í™˜ê²½ì—ì„œ ë°±ì—”ë“œ URL (í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬)
const API_URL = process.env.REACT_APP_API_URL || "https://your-backend-repl-url.repl.co";

const ChatInterface = () => {
  // ì»¤ìŠ¤í…€ í›… ì‚¬ìš©
  const { darkMode, fontSize, toggleDarkMode, updateFontSize, resetSettings } = useSettings();
  const {
    conversations,
    activeConversation,
    filteredConversations,
    searchQuery,
    setSearchQuery,
    searchMode,
    setSearchMode,
    startNewChat,
    switchConversation,
    deleteConversation,
    deleteAllConversations,
    addMessage,
    updateConversationTitle
  } = useConversations();

  // WebSocket ì—°ê²°
  const { isConnected, lastMessage, error, sendMessage, sendFile } = useWebSocket(API_URL);

  // ë¡œì»¬ ìƒíƒœ
  const [messages, setMessages] = useState([]);
  const [inputValue, setInputValue] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [artifactOpen, setArtifactOpen] = useState(true);
  const [copiedId, setCopiedId] = useState(null);
  const [attachedFiles, setAttachedFiles] = useState([]);
  const [isDragging, setIsDragging] = useState(false);
  const [showSettings, setShowSettings] = useState(false);
  
  // refs
  const messagesEndRef = useRef(null);
  const textareaRef = useRef(null);
  const fileInputRef = useRef(null);

  // ê²€ìƒ‰ ìƒíƒœ ê´€ë¦¬
  const isSearching = isSearchActive(searchQuery);

  // ëŒ€í™” ë³€ê²½ ì‹œ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
  useEffect(() => {
    const currentConv = conversations.find(c => c.id === activeConversation);
    if (currentConv) {
      setMessages(currentConv.messages || []);
    }
  }, [activeConversation, conversations]);

  // WebSocket ë©”ì‹œì§€ ì²˜ë¦¬
  useEffect(() => {
    if (lastMessage) {
      if (lastMessage.type === 'assistant') {
        const aiResponse = {
          id: Date.now(),
          role: MessageRole.ASSISTANT,
          content: lastMessage.content,
          timestamp: lastMessage.timestamp
        };
        
        addMessage(activeConversation, aiResponse);
        setMessages(prev => [...prev, aiResponse]);
        setIsTyping(false);
      } else if (lastMessage.type === 'file_response') {
        const fileResponse = {
          id: Date.now(),
          role: MessageRole.ASSISTANT,
          content: lastMessage.content,
          timestamp: lastMessage.timestamp
        };
        
        addMessage(activeConversation, fileResponse);
        setMessages(prev => [...prev, fileResponse]);
      }
    }
  }, [lastMessage, addMessage, activeConversation]);

  // ë©”ì‹œì§€ ìŠ¤í¬ë¡¤
  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  // í°íŠ¸ í¬ê¸° í´ë˜ìŠ¤
  const getFontSizeClass = () => {
    switch(fontSize) {
      case 'small': return 'text-xs';
      case 'large': return 'text-base';
      default: return 'text-sm';
    }
  };

  // í…ìŠ¤íŠ¸ í•˜ì´ë¼ì´íŒ…
  const highlightText = (text, query, isDark) => {
    if (!query) return text;
    const regex = new RegExp(`(${query})`, 'gi');
    return text.replace(regex, `<mark class="${isDark ? 'bg-yellow-600/30 text-yellow-300' : 'bg-yellow-200 text-yellow-800'}">$1</mark>`);
  };

  // íŒŒì¼ ì²˜ë¦¬
  const handleFileSelect = (e) => {
    const files = Array.from(e.target.files);
    files.forEach(file => {
      try {
        validateFile(file);
        const fileId = Date.now() + Math.random();
        const fileItem = {
          id: fileId,
          file,
          preview: file.type.startsWith('image/') ? URL.createObjectURL(file) : null
        };
        setAttachedFiles(prev => [...prev, fileItem]);
      } catch (error) {
        alert(error.message);
      }
    });
    e.target.value = '';
  };

  const removeFile = (fileId) => {
    setAttachedFiles(prev => {
      const fileItem = prev.find(f => f.id === fileId);
      if (fileItem?.preview) {
        URL.revokeObjectURL(fileItem.preview);
      }
      return prev.filter(f => f.id !== fileId);
    });
  };

  // ë“œë˜ê·¸ ì•¤ ë“œë¡­
  const handleDragOver = (e) => {
    e.preventDefault();
    setIsDragging(true);
  };

  const handleDragLeave = (e) => {
    e.preventDefault();
    setIsDragging(false);
  };

  const handleDrop = (e) => {
    e.preventDefault();
    setIsDragging(false);
    
    const files = Array.from(e.dataTransfer.files);
    files.forEach(file => {
      try {
        validateFile(file);
        const fileId = Date.now() + Math.random();
        const fileItem = {
          id: fileId,
          file,
          preview: file.type.startsWith('image/') ? URL.createObjectURL(file) : null
        };
        setAttachedFiles(prev => [...prev, fileItem]);
      } catch (error) {
        alert(error.message);
      }
    });
  };

  // ë©”ì‹œì§€ ì „ì†¡
  const handleSend = () => {
    if (!inputValue.trim() && attachedFiles.length === 0) return;

    const userMessage = {
      id: Date.now(),
      role: MessageRole.USER,
      content: inputValue.trim(),
      files: attachedFiles.map(f => ({
        name: f.file.name,
        type: f.file.type,
        size: f.file.size,
        preview: f.preview
      }))
    };

    // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
    addMessage(activeConversation, userMessage);
    setMessages(prev => [...prev, userMessage]);
    
    // WebSocketìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡
    if (sendMessage(inputValue.trim())) {
      setIsTyping(true);
    } else {
      alert('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
    }

    // ì²¨ë¶€ íŒŒì¼ì´ ìˆë‹¤ë©´ íŒŒì¼ ì •ë³´ë„ ì „ì†¡
    attachedFiles.forEach(fileItem => {
      sendFile({
        name: fileItem.file.name,
        type: fileItem.file.type,
        size: fileItem.file.size
      });
    });

    setInputValue('');
    setAttachedFiles([]);
  };

  // ë©”ì‹œì§€ ë³µì‚¬
  const handleCopy = async (text, messageId) => {
    try {
      await navigator.clipboard.writeText(text);
      setCopiedId(messageId);
      setTimeout(() => setCopiedId(null), 2000);
    } catch (error) {
      console.error('ë³µì‚¬ ì‹¤íŒ¨:', error);
    }
  };

  // ë§ˆí¬ë‹¤ìš´ ìŠ¤íƒ€ì¼
  const markdownStyles = `
    .markdown-content {
      word-break: break-word;
    }
    .markdown-content h1, .markdown-content h2, .markdown-content h3 {
      margin-top: 1rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    .markdown-content h1 { font-size: 1.5rem; }
    .markdown-content h2 { font-size: 1.25rem; }
    .markdown-content h3 { font-size: 1.125rem; }
    .markdown-content p { margin-bottom: 0.5rem; }
    .markdown-content ul, .markdown-content ol {
      margin-left: 1.5rem;
      margin-bottom: 0.5rem;
    }
    .markdown-content li { margin-bottom: 0.25rem; }
    .markdown-content blockquote {
      border-left: 4px solid #e5e7eb;
      padding-left: 1rem;
      margin: 1rem 0;
      font-style: italic;
    }
    .markdown-content pre {
      background-color: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
    .markdown-content code {
      background-color: #f3f4f6;
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
      font-family: 'Courier New', monospace;
    }
    .markdown-content pre code {
      background-color: transparent;
      padding: 0;
    }
    .markdown-content a {
      color: #3b82f6;
      text-decoration: underline;
    }
    .markdown-content a:hover {
      color: #2563eb;
    }
    .search-highlight {
      background-color: #fef3c7;
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
    }
    .dark .search-highlight {
      background-color: #92400e;
      color: #fef3c7;
    }
  `;

  return (
    <>
      {/* ì—°ê²° ìƒíƒœ í‘œì‹œ */}
      {!isConnected && (
        <div className={`fixed top-4 right-4 z-50 px-4 py-2 rounded-lg ${
          error ? 'bg-red-500 text-white' : 'bg-yellow-500 text-black'
        }`}>
          {error ? `ì—°ê²° ì˜¤ë¥˜: ${error}` : 'ì„œë²„ì— ì—°ê²° ì¤‘...'}
        </div>
      )}

      <SettingsModal 
        showSettings={showSettings}
        setShowSettings={setShowSettings}
        darkMode={darkMode}
        setDarkMode={toggleDarkMode}
        fontSize={fontSize}
        setFontSize={updateFontSize}
        activeConversation={activeConversation}
        conversations={conversations}
        deleteConversation={deleteConversation}
        deleteAllConversations={deleteAllConversations}
        resetSettings={resetSettings}
      />
      
      <div className={`flex h-screen ${darkMode ? 'dark bg-gray-900' : 'bg-gray-50'}`}>
        <style dangerouslySetInnerHTML={{ __html: markdownStyles }} />

        <Sidebar
          sidebarOpen={sidebarOpen}
          darkMode={darkMode}
          fontSize={fontSize}
          searchQuery={searchQuery}
          setSearchQuery={setSearchQuery}
          searchMode={searchMode}
          setSearchMode={setSearchMode}
          conversations={conversations}
          activeConversation={activeConversation}
          filteredConversations={filteredConversations}
          isSearching={isSearching}
          startNewChat={startNewChat}
          switchConversation={switchConversation}
          highlightText={highlightText}
          getFontSizeClass={getFontSizeClass}
        />

        <ChatArea
          darkMode={darkMode}
          setDarkMode={toggleDarkMode}
          fontSize={fontSize}
          sidebarOpen={sidebarOpen}
          setSidebarOpen={setSidebarOpen}
          artifactOpen={artifactOpen}
          setArtifactOpen={setArtifactOpen}
          showSettings={showSettings}
          setShowSettings={setShowSettings}
          conversations={conversations}
          activeConversation={activeConversation}
          messages={messages}
          isTyping={isTyping}
          inputValue={inputValue}
          setInputValue={setInputValue}
          attachedFiles={attachedFiles}
          isDragging={isDragging}
          searchQuery={searchQuery}
          isSearching={isSearching}
          copiedId={copiedId}
          messagesEndRef={messagesEndRef}
          textareaRef={textareaRef}
          fileInputRef={fileInputRef}
          handleSend={handleSend}
          handleFileSelect={handleFileSelect}
          handleDragOver={handleDragOver}
          handleDragLeave={handleDragLeave}
          handleDrop={handleDrop}
          removeFile={removeFile}
          handleCopy={handleCopy}
          getFontSizeClass={getFontSizeClass}
        />

        <ArtifactPanel
          artifactOpen={artifactOpen}
          setArtifactOpen={setArtifactOpen}
          darkMode={darkMode}
          searchQuery={searchQuery}
          filteredConversations={filteredConversations}
        />
      </div>
    </>
  );
};

export default ChatInterface;

==========================================

7. App_replit.jsx
==========================================

import React from 'react';
import ChatInterface from './components/ChatInterface/ChatInterface_replit';
import './App.css';

function App() {
  return (
    <div className="App">
      <ChatInterface />
    </div>
  );
}

export default App;

==========================================

8. package_replit.json
==========================================

{
  "name": "claude-chatbot-frontend",
  "version": "1.0.0",
  "private": true,
  "dependencies": {
    "@testing-library/jest-dom": "^5.16.4",
    "@testing-library/react": "^13.3.0",
    "@testing-library/user-event": "^13.5.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  },
  "devDependencies": {
    "tailwindcss": "^3.3.0",
    "autoprefixer": "^10.4.14",
    "postcss": "^8.4.24"
  }
}

==========================================

9. .replit (Frontend)
==========================================

run = "npm start"

==========================================

10. env_example.txt (Frontend)
==========================================

# ë°±ì—”ë“œ API URL (Replit URLë¡œ ë³€ê²½)
REACT_APP_API_URL=https://your-backend-repl-url.repl.co

# ê°œë°œ ëª¨ë“œ
REACT_APP_DEV_MODE=true

==========================================
ğŸ“ PROJECT STRUCTURE
==========================================

Backend/
â”œâ”€â”€ main_replit.py          # ë©”ì¸ ì„œë²„ íŒŒì¼
â”œâ”€â”€ requirements_replit.txt # Python ì˜ì¡´ì„±
â”œâ”€â”€ .replit                 # Replit ì‹¤í–‰ ì„¤ì •
â””â”€â”€ env_example.txt         # í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ

Frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ChatInterface/
â”‚   â”‚   â”‚   â””â”€â”€ ChatInterface_replit.jsx
â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”œâ”€â”€ ChatArea/
â”‚   â”‚   â”œâ”€â”€ ArtifactPanel/
â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useWebSocket.js
â”‚   â”‚   â”œâ”€â”€ useSettings.js
â”‚   â”‚   â””â”€â”€ useConversations.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ App_replit.jsx
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package_replit.json
â”œâ”€â”€ .replit
â””â”€â”€ env_example.txt

==========================================
ğŸ“ SETUP INSTRUCTIONS
==========================================

1. ë°±ì—”ë“œ Repl ì„¤ì •:
   - Replitì—ì„œ ìƒˆ Python Repl ìƒì„±
   - ìœ„ ë°±ì—”ë“œ íŒŒì¼ë“¤ì„ ì—…ë¡œë“œ
   - Replit Secretsì—ì„œ ANTHROPIC_API_KEY ì„¤ì •
   - pip install -r requirements_replit.txt
   - Run ë²„íŠ¼ í´ë¦­

2. í”„ë¡ íŠ¸ì—”ë“œ Repl ì„¤ì •:
   - Replitì—ì„œ ìƒˆ React Repl ìƒì„±
   - ìœ„ í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ë“¤ì„ ì—…ë¡œë“œ
   - Replit Secretsì—ì„œ REACT_APP_API_URL ì„¤ì •
   - npm install
   - Run ë²„íŠ¼ í´ë¦­

3. ì—°ê²° ì„¤ì •:
   - ë°±ì—”ë“œ URLì„ í”„ë¡ íŠ¸ì—”ë“œ Secretsì— ì„¤ì •
   - WebSocket ì—°ê²° ìƒíƒœ í™•ì¸

==========================================
ğŸ“ API ENDPOINTS
==========================================

GET / - ì„œë²„ ìƒíƒœ í™•ì¸
GET /health - í—¬ìŠ¤ ì²´í¬
WS /ws - WebSocket ì—°ê²°

==========================================
ğŸ“ WEBSOCKET MESSAGE FORMAT
==========================================

í´ë¼ì´ì–¸íŠ¸ -> ì„œë²„:
{
  "type": "chat",
  "message": "ì‚¬ìš©ì ë©”ì‹œì§€",
  "timestamp": "2024-01-01T00:00:00Z"
}

{
  "type": "file",
  "file": {
    "name": "íŒŒì¼ëª….txt",
    "type": "text/plain",
    "size": 1024
  },
  "timestamp": "2024-01-01T00:00:00Z"
}

ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸:
{
  "type": "assistant",
  "content": "AI ì‘ë‹µ",
  "timestamp": "2024-01-01T00:00:00Z"
}

{
  "type": "file_response",
  "content": "íŒŒì¼ ì²˜ë¦¬ ê²°ê³¼",
  "timestamp": "2024-01-01T00:00:00Z"
}

==========================================
ğŸ“ FEATURES
==========================================

ë°±ì—”ë“œ ê¸°ëŠ¥:
âœ… FastAPI WebSocket ì„œë²„
âœ… CORS ì„¤ì • (Replit í™˜ê²½ ìµœì í™”)
âœ… Claude API ì—°ë™ ì¤€ë¹„
âœ… íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
âœ… ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§

í”„ë¡ íŠ¸ì—”ë“œ ê¸°ëŠ¥:
âœ… React ê¸°ë°˜ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
âœ… WebSocket ì‹¤ì‹œê°„ í†µì‹ 
âœ… ìë™ ì¬ì—°ê²° ê¸°ëŠ¥
âœ… ì—°ê²° ìƒíƒœ í‘œì‹œ
âœ… íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
âœ… ë‹¤í¬ëª¨ë“œ ì§€ì›
âœ… ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬
âœ… ê²€ìƒ‰ ê¸°ëŠ¥
âœ… ë©”ì‹œì§€ ë³µì‚¬ ê¸°ëŠ¥

==========================================
ğŸ“ ENVIRONMENT VARIABLES
==========================================

ë°±ì—”ë“œ (.env):
ANTHROPIC_API_KEY=your_api_key_here
HOST=0.0.0.0
PORT=8000
ALLOWED_ORIGINS=*

í”„ë¡ íŠ¸ì—”ë“œ (.env):
REACT_APP_API_URL=https://your-backend-repl-url.repl.co
REACT_APP_DEV_MODE=true

==========================================
ğŸ“ TROUBLESHOOTING
==========================================

ë°±ì—”ë“œ ë¬¸ì œ:
1. í¬íŠ¸ ì¶©ëŒ: Replitì—ì„œ ìë™ìœ¼ë¡œ í¬íŠ¸ í• ë‹¹
2. CORS ì˜¤ë¥˜: ì´ë¯¸ ëª¨ë“  origin í—ˆìš©ìœ¼ë¡œ ì„¤ì •ë¨
3. API í‚¤ ì˜¤ë¥˜: Secretsì—ì„œ ì˜¬ë°”ë¥¸ í‚¤ ì„¤ì • í™•ì¸

í”„ë¡ íŠ¸ì—”ë“œ ë¬¸ì œ:
1. WebSocket ì—°ê²° ì‹¤íŒ¨: ë°±ì—”ë“œ URL í™•ì¸
2. ë¹Œë“œ ì˜¤ë¥˜: npm install ì¬ì‹¤í–‰
3. í™˜ê²½ë³€ìˆ˜ ì˜¤ë¥˜: Secretsì—ì„œ REACT_APP_ ì ‘ë‘ì‚¬ í™•ì¸

==========================================
ğŸ‰ SETUP COMPLETE! READY TO CHAT WITH CLAUDE AI!
========================================== 